\documentclass[oneside, AutoFakeBold]{article}

\usepackage{geometry}          % 用于页面设置
% 设置为A4纸，并按照MSOffice的默认尺寸设置四周边距
\geometry{
  a4paper,
  left = 3.17cm,
  right = 3.17cm,
  top = 2.54cm,
  bottom = 2.54cm
}

% 颜色支持
\usepackage[dvipsnames, svgnames, x11names]{xcolor}

% 汉字支持
\usepackage{xeCJK,fontspec}
% 设置字体。注意顺序，第一个定义的就是默认字体
\setmainfont{Sarasa Fixed SC}
\setsansfont{CMU Sans Serif}
\setCJKfamilyfont{song}{FandolSong}
\newcommand{\song}{\CJKfamily{song}}
\setCJKfamilyfont{kaiti}{FandolKai}
\newcommand{\kaiti}{\CJKfamily{kaiti}}
\setCJKfamilyfont{heiti}{FandolHei}
\newcommand{\heiti}{\CJKfamily{heiti}}

% 绘图支持
\usepackage{tikz}
\usetikzlibrary{arrows}

% UML绘图支持
% tikz-uml宏包并不在texlive中，需要单独下载
% 下载后可放在自己定义的文件夹内，并在调用时指明完整路径
\usepackage{../tikzuml-v1.0-2016-03-29/tikzuml-v1.0-2016-03-29/tikz-uml}

% 设置断字参数，数值越大，出现断字的情况越少
\hyphenpenalty = 1000

% ------------------ 开始 -------------------

\begin{document}
\begin{center}
    \begin{tikzpicture}
      \umlsimpleclass[x = -4, y = 2, draw = purple]{Mock CheckWriter}{}{}
      \umlsimpleclass[x = 0, y = 2, draw = purple]{PayrollTest}{}{}
      \umlsimpleclass[x = 4, y = 2, draw = purple]{Mock Employee}{}{}
      \umlinterface[x = -4, y = 0, draw = purple]{CheckWriter}{}{
        + writeCheck()
      }
      \umlsimpleclass[x = 0, y = 0, draw = purple]{Payroll}{}{}
      \umlinterface[x = 4, y = 0, draw = purple]{Employee}{}{
        + claculatePay()\\
        + postPayment()
      }
      \umlinterface[x = 0, y = -3, draw = purple]{Employee Database}{}{
        + getEmployee()\\
        + putEmployee()
      }
      \umlsimpleclass[x = 0, y = -6, draw = purple]{Mock Employee Database}{}{}

      \umluniassoc[draw = purple]{PayrollTest}{Mock CheckWriter}
      \umluniassoc[draw = purple]{PayrollTest}{Mock Employee}
      \umluniassoc[draw = purple]{PayrollTest}{Payroll}
      \draw[draw = purple, -angle 45](PayrollTest.north) -- ++(0, 0.3) -- ++(6, 0) |- (Mock Employee Database);
      \umluniassoc[draw = purple]{Payroll}{CheckWriter}
      \umluniassoc[draw = purple]{Payroll}{Employee}
      \umluniassoc[draw = purple]{Payroll}{Employee Database}
      \umlinherit[draw = purple]{Mock CheckWriter}{CheckWriter}
      \umlinherit[draw = purple]{Mock Employee}{Employee}
      \umlHVdep[draw = purple]{Employee Database}{Employee}
      \umlinherit[draw = purple]{Mock Employee Database}{Employee Database}
    \end{tikzpicture}
    \heiti\\[0.4cm] 图4.2 使用Mock Objects测试方法，解除了耦合的薪水支付应用模型\song
  \end{center}
\end{document}